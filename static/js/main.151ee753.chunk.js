(this["webpackJsonphalo-todo-app"]=this["webpackJsonphalo-todo-app"]||[]).push([[0],{41:function(t,e,o){},42:function(t,e,o){},66:function(t,e,o){"use strict";o.r(e);var n=o(1),r=o(0),i=o.n(r),c=o(11),d=o.n(c),a=(o(41),o(42),o(15)),s=o(4),l=o.n(s),u=o(6),p=o(3),f=o(12),h=o(30),b=o(31),j=o(35),T=o(34),O=o(8),v="UPDATE_TODO",x="DELETE_TODO",g="ADD_NEW_TODO_TO_LIST",m="FETCH_TODOS_START",k="FETCH_TODOS_SUCCESS",C="FETCH_TODOS_FAIL",F=o(9),_=o.n(F),S=function(t){return{type:g,todo:t}},L=function(t){return function(){var e=Object(u.a)(l.a.mark((function e(o){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_.a.put("https://halo-todo-backend.herokuapp.com/todos/".concat(t.id),t);case 3:return e.next=5,o({type:v,updatedTodo:t});case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},D=o(13),y=o(14),E=function(t){var e=t.classProp,o=t.clicked;return Object(n.jsx)(D.a,{className:e,icon:y.a,onClick:o})},A=function(t){return Object(n.jsxs)("form",{className:"todo-input",onSubmit:t.onAddTodo,children:[Object(n.jsx)(E,{classProp:"todo-input__icon",clicked:t.onToggleAllCheckboxes}),Object(n.jsx)("input",{className:"todo-input__input",type:t.type,name:t.name,value:t.todoInput,placeholder:t.editingTodoList?"Press Enter to Save Edit":t.placeholder,onChange:t.onInputChanged,disabled:t.editingTodoList})]})},H=function(t){var e=t.classProp,o=t.checked,r=t.clicked,i=t.changed,c=t.disabled;return Object(n.jsx)("input",{className:e,type:"checkbox",name:"checkbox",checked:o,onClick:r,onChange:i,disabled:c})},I=function(t){var e=t.classProp,o=t.clicked;return Object(n.jsx)(D.a,{className:e,icon:y.b,onClick:o})},N=function(t){var e={};t.todoCompleted&&(e={textDecoration:"line-through"});var o=Object(n.jsx)("h2",{className:!t.editing&&t.editingTodoList?"todo__title--disabled":"todo__title",style:e,name:t.content,onClick:t.editingTodoList?null:t.onEditTodo,children:t.content});t.editing&&(o=Object(n.jsx)("form",{className:"todo__form",onSubmit:t.onSubmitEdit,children:Object(n.jsx)("input",{className:"todo__edit",name:"editedContent",defaultValue:t.editedContent,onChange:t.onInputChanged})}));var r=null;t.editing||(r=Object(n.jsx)(I,{classProp:"todo__icon",clicked:t.onDeleteTodo}));var i=Object(n.jsx)(H,{classProp:"todo__checkbox",checked:t.todoCompleted,clicked:t.onUpdateTodo,changed:t.onInputChanged,disabled:!t.editing&&t.editingTodoList});return Object(n.jsxs)("section",{className:!t.editing&&t.editingTodoList?"todo--disabled":"todo",children:[i,o,r]})},w=function(t){var e=t.classProp,o=t.titleText;return Object(n.jsx)("h1",{className:e,children:o})},P=function(t){return Object(n.jsxs)("div",{className:"items-left",children:[t.todos.filter((function(t){return!1===t.isDone})).length," Items Left"]})},U=function(t){return Object(n.jsx)("button",{className:t.classProp,type:t.type,onClick:t.clicked,disabled:t.disabled,children:t.children})},B=function(t){return Object(n.jsx)(U,{classProp:t.classProp,type:t.type,clicked:t.clicked,disabled:t.disabled,children:t.children})},J=function(t){var e=t.filters.map((function(e){return Object(n.jsx)(B,{classProp:e===t.activeFilter?"todo-filters__filter--active":"todo-filters__filter",type:"text",clicked:function(){return t.onSelectFilterOption(e)},children:e},e)}));return Object(n.jsx)("section",{className:"todo-filters",children:e})},M=function(t){return Object(n.jsx)("div",{className:"clear-completed",onClick:t.clicked,children:"Clear Completed"})},W=function(t){return Object(n.jsxs)("section",{className:"info-panel",children:[Object(n.jsx)(P,{todos:t.todos}),Object(n.jsx)(J,{filters:t.filters,activeFilter:t.activeFilter,onSelectFilterOption:t.onSelectFilterOption}),Object(n.jsx)(M,{clicked:t.onClearCompletedTodos})]})},R=function(){return Object(n.jsxs)("div",{className:"spinner",children:[Object(n.jsx)("div",{}),Object(n.jsx)("div",{}),Object(n.jsx)("div",{}),Object(n.jsx)("div",{})]})},V=Object(O.b)((function(t){return{loading:t.todos.loading}}))((function(t){var e=Object(n.jsx)(R,{}),o=null;if(!t.loading){var r=t.filteredTodos&&t.filteredTodos.filter((function(e){return t.todos.filter((function(t){return e.id===t.id}))}));console.log(r),e=(e=t.filteredTodos&&!t.editingTodoList?r:t.todos).map((function(e){return Object(n.jsx)(N,{content:e.content,todoCompleted:e.isDone,editing:e.editing,editedContent:t.editedContent,editingTodoList:t.editingTodoList,onUpdateTodo:function(){return t.onUpdateTodo(e)},onDeleteTodo:function(){return t.onDeleteTodo(e.id)},onEditTodo:function(){return t.onEditTodo(e)},onInputChanged:t.onInputChanged,onSubmitEdit:function(o){return t.onSubmitEdit(o,e)}},e.id)}))}t.todos.length>0&&(o=Object(n.jsx)(W,{todos:t.todos,filters:t.filters,activeFilter:t.activeFilter,onClearCompletedTodos:t.onClearCompletedTodos,onSelectFilterOption:t.onSelectFilterOption}));var i=Object(n.jsx)(A,{type:"text",name:"todoInput",placeholder:"What needs to be done?",editingTodoList:t.editingTodoList,todoInput:t.todoInput,onAddTodo:t.onAddTodo,onInputChanged:t.onInputChanged,onToggleAllCheckboxes:t.onToggleAllCheckboxes});return Object(n.jsxs)("main",{className:"todo-dashboard",children:[Object(n.jsx)(w,{classProp:"todo-dashboard__title",titleText:"todos"}),Object(n.jsxs)("section",{className:"todo-dashboard__section",children:[i,e,o]})]})})),q=function(t){Object(j.a)(o,t);var e=Object(T.a)(o);function o(){var t;Object(h.a)(this,o);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))).state={todoInput:"",editedContent:"",editingTodoList:!1,itemsLeft:0,filters:["All","Active","Completed"],filteredTodos:null,activeFilter:"All",checkboxBoolean:!1,checkbox:""},t.inputChangedHandler=function(e){var o=e.target.name;t.setState(Object(f.a)({},o,e.target.value))},t.addTodoHandler=function(e){e.preventDefault();var o={content:t.state.todoInput,isDone:!1};t.setState({todoInput:""},(function(){return t.props.addTodo(o)}))},t.editTodoHandler=function(e){!1===e.editing&&(t.setState({editedContent:e.content,editingTodoList:!0,activeFilter:"All"},(function(){return t.props.setTodoEditState(e)})),t.updateFilteredTodosHandler())},t.submitEditHandler=function(e,o){e.preventDefault();var n=t.state.editedContent,r=Object(p.a)(Object(p.a)({},o),{},{content:n,editing:!1});t.setState({editingTodoList:!1,activeFilter:"All"},(function(){return t.props.updateTodo(r)}))},t.updateTodoHandler=function(){var e=Object(u.a)(l.a.mark((function e(o){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,n=o.isDone?Object(p.a)(Object(p.a)({},o),{},{isDone:!1}):Object(p.a)(Object(p.a)({},o),{},{isDone:!0}),e.next=4,t.props.updateTodo(n);case 4:t.updateFilteredTodosHandler();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.clearCompletedTodos=function(){t.props.todos.filter((function(t){return!0===t.isDone})).forEach((function(e){return t.props.deleteTodo(e.id)}))},t.deleteTodoHandler=function(e){t.props.deleteTodo(e)},t.updateFilteredTodosHandler=function(){var e=null;"Active"===t.state.activeFilter&&(e=t.props.todos.filter((function(t){return!1===t.isDone})),t.setState({filteredTodos:e})),"Completed"===t.state.activeFilter&&(e=t.props.todos.filter((function(t){return!0===t.isDone})),t.setState({filteredTodos:e}))},t.selectFilterOptionHandler=function(e){var o=[];switch(e){case"All":t.setState({filteredTodos:null,activeFilter:e});break;case"Active":o=t.props.todos.filter((function(t){return!1===t.isDone})),t.setState({filteredTodos:o,activeFilter:e});break;case"Completed":o=t.props.todos.filter((function(t){return!0===t.isDone})),t.setState({filteredTodos:o,activeFilter:e});break;default:return}},t.toggleAllCheckboxesHandler=function(){var e=Object(a.a)(t.props.todos),o=t.state.checkboxBoolean,n=e.map((function(t){return t.isDone===(!0===o)?Object(p.a)(Object(p.a)({},t),{},{isDone:!0!==o}):t}));t.setState({checkboxBoolean:!t.state.checkboxBoolean}),t.props.updateTodoList(n)},t}return Object(b.a)(o,[{key:"componentDidMount",value:function(){this.props.fetchTodos()}},{key:"render",value:function(){var t=this;return Object(n.jsx)(V,{todos:this.props.todos,todoInput:this.state.todoInput,editedContent:this.state.editedContent,editingTodoList:this.state.editingTodoList,filters:this.state.filters,activeFilter:this.state.activeFilter,filteredTodos:this.state.filteredTodos,onAddTodo:function(e){return t.addTodoHandler(e,t.state.todoInput)},onClearCompletedTodos:this.clearCompletedTodos,onUpdateTodo:this.updateTodoHandler,onDeleteTodo:this.deleteTodoHandler,onEditTodo:this.editTodoHandler,onInputChanged:this.inputChangedHandler,onToggleAllCheckboxes:this.toggleAllCheckboxesHandler,onSelectFilterOption:this.selectFilterOptionHandler,onSubmitEdit:this.submitEditHandler,onUpdateFilteredTodos:this.updateFilteredTodosHandler})}}]),o}(i.a.Component),z={fetchTodos:function(){return function(){var t=Object(u.a)(l.a.mark((function t(e){var o,n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e({type:m});case 3:return t.next=5,_.a.get("https://halo-todo-backend.herokuapp.com/todos");case 5:return o=t.sent,t.next=8,o.data.map((function(t){return Object(p.a)(Object(p.a)({},t),{},{editing:!1})}));case 8:return n=t.sent,t.next=11,e({type:k,todos:n});case 11:t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),console.log(t.t0);case 16:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e){return t.apply(this,arguments)}}()},addTodo:function(t){return function(){var e=Object(u.a)(l.a.mark((function e(o){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_.a.post("https://halo-todo-backend.herokuapp.com/todos",t);case 3:n=e.sent,o(S(Object(p.a)(Object(p.a)({},n.data),{},{editing:!1}))),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},updateTodo:L,deleteTodo:function(t){return function(){var e=Object(u.a)(l.a.mark((function e(o){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_.a.delete("https://halo-todo-backend.herokuapp.com/todos/".concat(t));case 3:return e.next=5,o({type:x,id:t});case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},setTodoEditState:function(t){return function(){var e=Object(u.a)(l.a.mark((function e(o){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(p.a)(Object(p.a)({},t),{},{editing:!0});case 3:return n=e.sent,e.next=6,o({type:v,updatedTodo:n});case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},updateTodoList:function(t){return function(){var e=Object(u.a)(l.a.mark((function e(o){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.forEach((function(t){return o(L(t))}));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()}},G=Object(O.b)((function(t){return{todos:t.todos.todoList}}),z)(q),K=function(){return Object(n.jsx)("div",{className:"App",children:Object(n.jsx)(G,{})})},Q=o(7),X=o(33),Y=function(t,e){return Object(p.a)(Object(p.a)({},t),e)},Z={loading:!1,error:!1,todoList:[],filteredTodos:[]},$=function(t,e){var o=e.todo;return Y(t,{todoList:[o].concat(Object(a.a)(t.todoList)),loading:!1})},tt=function(t,e){var o=t.todoList.filter((function(t){return t.id!==e.id}));return Y(t,{todoList:o})},et=function(t,e){var o=t.todoList.map((function(t){return t.id===e.updatedTodo.id?e.updatedTodo:t}));return Y(t,{todoList:o})},ot=function(t,e){return Y(t,{loading:!0})},nt=function(t,e){return Y(t,{todoList:e.todos,loading:!1})},rt=function(t,e){return Y(t,{error:e.error,loading:!1})},it=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case g:return $(t,e);case v:return et(t,e);case x:return tt(t,e);case m:return ot(t);case k:return nt(t,e);case C:return rt(t,e);default:return t}},ct=Object(Q.c)({todos:it}),dt=[X.a],at=Object(Q.e)(ct,{},Object(Q.d)(Q.a.apply(void 0,dt))),st=function(t){t&&t instanceof Function&&o.e(3).then(o.bind(null,67)).then((function(e){var o=e.getCLS,n=e.getFID,r=e.getFCP,i=e.getLCP,c=e.getTTFB;o(t),n(t),r(t),i(t),c(t)}))},lt=Object(n.jsx)(i.a.StrictMode,{children:Object(n.jsx)(O.a,{store:at,children:Object(n.jsx)(K,{})})});d.a.render(lt,document.getElementById("root")),st()}},[[66,1,2]]]);
//# sourceMappingURL=main.151ee753.chunk.js.map